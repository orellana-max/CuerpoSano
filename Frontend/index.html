<!DOCTYPE html>
<html lang="es">

<head>
  <!--  METADATOS Y ESTILOS -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cuerpo Sano - Inicio</title>
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <div class="dashboard-index">
    <!-- barra lateral  -->
    <aside class="sidebar">
      <div class="logo">
        <img src="image/logo02Azul.png" alt="Logo Cuerpo Sano" />
        <h1>CUERPO SANO</h1>
      </div>
    </aside>
    
    <!-- contenido principal  -->
    <main class="main-content">
      <h2>Bienvenido al sistema de gestión</h2>
      <p>Control total del gimnasio desde un solo lugar</p>

      <!-- Botón para abrir el modal -->
      <button id="btnModalLogin" class="btn-login">Ingresar al sistema</button>

    </main>
  </div>

  <!-- Modal de Login (ventana emergente) -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="cerrarModal()">×</span>
      <h2>Ingreso al Sistema</h2>

      <div class="alert" id="alertLogin" style="display: none;">
        ⚠️ Usuario no encontrado. Verificá tus credenciales.
      </div>

      <form id="loginModalForm" method="POST" action="/login">
        <label for="email">Correo electrónico</label>
        <input type="email" id="email" name="email" required />

        <label for="password">Contraseña</label>
        <input type="password" id="password" name="password" required />

        <button type="submit" class="btn-login">Ingresar</button>
      </form>
    </div>
  </div>

  <script>
    function abrirModal() {
      document.getElementById('loginModal').style.display = 'flex';
    }

    document.getElementById("btnModalLogin").addEventListener("click", abrirModal);

    function cerrarModal() {
      document.getElementById('loginModal').style.display = 'none';
    }

    window.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') cerrarModal();
    });

    window.addEventListener('click', function (e) {
      const modal = document.getElementById('loginModal');
      if (e.target === modal) cerrarModal();
    });

    const form = document.getElementById("loginModalForm");
    const alertBox = document.getElementById("alertLogin");

    form.addEventListener("submit", function (e) {
      e.preventDefault(); // Evita el envío real

      const email = document.getElementById("email").value.trim().toLowerCase();
      // Simulación de validación de usuario
      if (email === "empleado@email.com") {
        window.location.href = "empleado.html";
      } else if (email === "admin@email.com") {
        window.location.href = "administrador.html";
      } else {
        alertBox.style.display = "block";
      }
    });

  </script>

</body>

</html>