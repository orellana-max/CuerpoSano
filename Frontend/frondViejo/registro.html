<!DOCTYPE html>
<html lang="es">

<head>
    <!-- ============================= -->
    <!-- üîß METADATOS Y ESTILOS        -->
    <!-- ============================= -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro - Cuerpo Sano</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- ============================= -->
    <!-- üß± CONTENEDOR DE REGISTRO     -->
    <!-- ============================= -->
    <div class="registro-container">
        <h2>Registro de Usuario</h2>
        <form id="registroForm" action="http://localhost:5157/api/registro" method="POST" novalidate>
            <input type="text" name="nombre" placeholder="Nombre completo" required />
            <span class="error" id="error-nombre"></span>

            <input type="text" name="usuarioLogin" placeholder="Nombre de usuario" required />
            <span class="error" id="error-usuarioLogin"></span>

            <input type="email" name="email" placeholder="Correo electr√≥nico" required
                pattern="[^@\s]+@[^@\s]+\.[^@\s]+" />
            <span class="error" id="error-email"></span>

            <input type="password" name="clave" placeholder="Contrase√±a" required minlength="6" />
            <span class="error" id="error-clave"></span>

            <input type="password" name="confirmar" placeholder="Confirmar contrase√±a" required minlength="6" />
            <span class="error" id="error-confirmar"></span>

            <!-- ‚úÖ Selecci√≥n de rol -->
            <select name="rol" required>
                <option value="" disabled selected>Seleccion√° tu rol</option>
                <option value="socio">Socio</option>
                <option value="entrenador">Entrenador</option>
                <option value="empleado">Empleado</option>
                <option value="administrador">Administrador</option>
            </select>
            <span class="error" id="error-rol"></span>

            <button type="submit">Crear cuenta</button>
        </form>
        <p>¬øYa ten√©s cuenta? <a href="loggin.html">Ingres√° aqu√≠</a></p>
    </div>

    <script>

        document.getElementById("registroForm").addEventListener("submit", function (e) {
            let valid = true;

            const nombre = document.querySelector('input[name="nombre"]');
            const email = document.querySelector('input[name="email"]');
            const usuario = document.querySelector('input[name="usuarioLogin"]');
            const clave = document.querySelector('input[name="clave"]');
            const confirmar = document.querySelector('input[name="confirmar"]');
            const rol = document.querySelector('select[name="rol"]');

            // Limpiar errores previos
            document.querySelectorAll(".error").forEach(el => el.textContent = "");

            // Validaciones
            if (nombre.value.trim() === "") {
                document.getElementById("error-nombre").textContent = "El nombre es obligatorio.";
                valid = false;
            }

            if (!email.validity.valid) {
                document.getElementById("error-email").textContent = "Ingres√° un correo v√°lido.";
                valid = false;
            }

            if (usuario.value.trim() === "") {
                document.getElementById("error-usuarioLogin").textContent = "El usuario es obligatorio.";
                valid = false;
            }

            if (clave.value.length < 6) {
                document.getElementById("error-clave").textContent = "La contrase√±a debe tener al menos 6 caracteres.";
                valid = false;
            }

            if (clave.value !== confirmar.value) {
                document.getElementById("error-confirmar").textContent = "Las contrase√±as no coinciden.";
                valid = false;
            }

            if (!rol.value) {
                document.getElementById("error-rol").textContent = "Seleccion√° un rol.";
                valid = false;
            }

            if (!valid) e.preventDefault();
        });


    </script>

</body>

</html>